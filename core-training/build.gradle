apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven'

group = 'pl.sebitg'
archivesBaseName = 'training-core'
version = '0.1.0'
sourceCompatibility = 1.7

jar {
    manifest {
        attributes 'Implementation-Title': 'Spring core training by Sebastian Mekal', 'Implementation-Version': version, 'Main-Class': mainClass
    }
    from {
    	configurations.compile.collect {
    		it.isDirectory() ? it : zipTree(it)
    	}
    }
}

repositories {
    mavenCentral()
    maven { url "http://repo.spring.io/release" }
}

dependencies {
	compile("org.jsoup:jsoup:1.7.3")
	compile("log4j:log4j:1.2.17")
	compile("org.springframework:spring-context:4.0.2.RELEASE")
	compile("org.apache.logging.log4j:log4j-core:2.0-rc1")
	compile('commons-collections:commons-collections:3.2.1')
	
	testCompile("junit:junit:4.+")
}

sourceSets {
	main {
		java {
			srcDir 'src'
		}
		resources {
			srcDir 'src'
		}
	}
	test {
		java {
			srcDir 'test'
		}
		resources {
			srcDir 'test'
		}
	}
}

uploadArchives {
	repositories {
		mavenDeployer {
			mavenLocal()
		}
	}
}
